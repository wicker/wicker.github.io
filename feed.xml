<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>Wickerbox</title>
		<description>Adventures of an aerospace geek in Portland, Oregon.</description>
		<link></link>
		<atom:link href="feed.xml" rel="self" type="application/rss+xml" />
		
			<item>
				<title>6 Jan 2014</title>
				<description>&lt;p&gt;Beautiful day doing flight test of our cameras for work.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve been looking at putting the Robot Operating System on the STM32F Discovery Board so I took a brief detour through basic toolchain review. A couple nice links are these at &lt;a href=&quot;http://elinux.org/Toolchains&quot;&gt;eLinux &amp;#8211; Toolchains&lt;/a&gt; and &lt;a href=&quot;http://www.kunen.org/uC/gnu_tool.html&quot;&gt;thing2&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In general, paraphrasing from the article, I need disk space, decent &lt;span class=&quot;caps&quot;&gt;CPU&lt;/span&gt; and memory, recent gcc compiler and &lt;span class=&quot;caps&quot;&gt;GNU&lt;/span&gt; build utilities for the sort of stuff I do.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m prototyping on &lt;span class=&quot;caps&quot;&gt;ARM&lt;/span&gt; processors so I build arm-none-eabi and newlib, which successfully can build the libraries; works with FreeRTOS, ChibiOS, and &lt;span class=&quot;caps&quot;&gt;ROS&lt;/span&gt;; and can make binaries for bare metal (no OS) software. I&amp;#8217;m not developing for embedded Linux targets so I don&amp;#8217;t have to build against glibc. I&amp;#8217;m not sure what an embedded Linux target really is, though.&lt;/p&gt;
&lt;p&gt;Having an arm-x-eabi means it&amp;#8217;s for &lt;span class=&quot;caps&quot;&gt;ARM&lt;/span&gt; with the &lt;span class=&quot;caps&quot;&gt;ARM&lt;/span&gt; standard &lt;span class=&quot;caps&quot;&gt;EABI&lt;/span&gt;.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;arm-none-eabi means it&amp;#8217;s not for a specific OS or build&lt;/li&gt;
	&lt;li&gt;arm-psas-eabi means it expects the &lt;span class=&quot;caps&quot;&gt;PSAS&lt;/span&gt; environment&lt;/li&gt;
	&lt;li&gt;arm-linux-eabi is designed to be used to build programs with glibc under Linux&lt;/li&gt;
&lt;/ul&gt;</description>
				<pubDate>Mon, 06 Jan 2014</pubDate>
				<link>http://www.wickerbox.net//2014/01/06-note</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2014/01/06-note</guid>
			</item>
		
			<item>
				<title>4 Jan 2014</title>
				<description>&lt;p&gt;I wrote a nice, long note last night but with today&amp;#8217;s date about my process for designing PCBs and then blew it away this morning by running the makenote script for today. Argh. Well, it had occurred to me that I should add a line to the makenote script to prompt me about the overwrite if a post already exists.&lt;/p&gt;
&lt;p&gt;It turns out that&amp;#8217;s as easy as adding -i to the cp command and, as a bonus, if I tell it &amp;#8216;n&amp;#8217; (I don&amp;#8217;t want it to overwrite) then the script executes the next line which is opening the file so I can edit. I can live with that.&lt;/p&gt;
&lt;p&gt;A couple random notes about sed to add at the beginning and end of a line:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;s/$/text/&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;s/^/text/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;In other news, I came across &lt;a href=&quot;http://www.davehylands.com/Wood-Working/Electronics-Workbench/&quot;&gt;Dave Hyland&amp;#8217;s Electronics Workbench&lt;/a&gt; via StackExchange because I&amp;#8217;ve been inventorying my piles of components. I kind of want to do this as a SolidWorks project. I do have a closet in my office&amp;#8230; I&amp;#8217;ve been making a database on summerisle with an inventory of all the parts I have at home. I&amp;#8217;m tired of trying to match them up. I&amp;#8217;m going to get a trial of Illustrator and mock up an interface or something to drop on top of it, mostly because the Adobe stuff is so shiny.&lt;/p&gt;
&lt;p&gt;But I&amp;#8217;ve been going through a ton of old photos and organizing all my photo albums on one hard drive. It&amp;#8217;s pretty cool to look at photos I took in 2000 as a fifteen-year old. They&amp;#8217;re mostly crap, but their value to me is mostly in memories so that&amp;#8217;s all right.&lt;/p&gt;
&lt;p&gt;The title photo from today is the first photo I took on the X100S back in June.&lt;/p&gt;
&lt;p&gt;I did add several outdoor posts from last year, including &lt;a href=&quot;/2013/08/tualatin-wildlife-refuge-evening/&quot;&gt;Tualatin Wildlife Refuge&lt;/a&gt;, &lt;a href=&quot;/2012/09/dismal-nitch&quot;&gt;Dismal Nitch&lt;/a&gt;, &lt;a href=&quot;/2012/08/badger-creek&quot;&gt;Badger Creek&lt;/a&gt;, and &lt;a href=&quot;/2012/08/callahans-to-green-springs-inn&quot;&gt;Callahan&amp;#8217;s to Green Springs Inn&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;And I got the photos from Kalaloch up, which I had to take with my iPhone because I left my camera battery (!!!!!) in Portland. But it was gorgeous up there anyway, I just think the X100S would have given me more control over the light. The beach, ocean, and sky all turn the same sort of gray when it&amp;#8217;s overcast.&lt;/p&gt;</description>
				<pubDate>Sat, 04 Jan 2014</pubDate>
				<link>http://www.wickerbox.net//2014/01/04-note</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2014/01/04-note</guid>
			</item>
		
			<item>
				<title>3 Jan 2014</title>
				<description>&lt;p&gt;Caution: contents contain notes about the Eagle &lt;span class=&quot;caps&quot;&gt;CAD&lt;/span&gt; program. Readers allergic to Eagle should skip it.&lt;/p&gt;
&lt;p&gt;I use the standard version of Eagle for making printed circuit boards. It&amp;#8217;s basically a cad program you can use to draw the schematic and then route the layout of the final board. I usually take my files and send them off to OSHPark to be made into real physical boards.&lt;/p&gt;
&lt;p&gt;I don&amp;#8217;t recommend Eagle anymore; I&amp;#8217;ve heard too many good things about KiCad, which is open source and free. Go learn that instead if you haven&amp;#8217;t already put time and money into Eagle. I&amp;#8217;ve had customer support problems and nobody ever actually gave me a copy of the Eagle license that they made me pay money for. They also misrepresented what an academic license consisted of. So go to KiCad.&lt;/p&gt;
&lt;p&gt;This note&amp;#8217;s about the eagle.scr startup script which sets default values for things like via diameter, wire size, and grid size. I look to OSHPark&amp;#8217;s design rules to find out what these values ought to be. The fab houses that receive my design files and fabricate my boards for me set the minimum widths, distances, diameters, etc that their machinery can accommodate considering how much money I want to give them. I like to set my minimum settings a little larger so I don&amp;#8217;t run the risk of small inaccuracies breaking my design but I can go smaller if I need to. (I don&amp;#8217;t usually need to.)&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve been experimenting a little with the Eagle startup script. I was using semi-colons inconsistently and it turns out if you have multiple statements on one line, you need to separate them with a semi-colon. Either a semi-colon or a newline appear to work for statements in list form. For example, this works fine:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;change drill 0.013; change diameter 0.027&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;change shape round;  &lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This doesn&amp;#8217;t:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;change drill 0.013 change diameter 0.027&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;But this does:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;change drill 0.013&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;change diameter 0.027&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The script allows you to set default values for the board, schematic, device, symbol, package, and general library editing screens. The package screen is basically the same as board except there&amp;#8217;s no need to specify the route width because there isn&amp;#8217;t any routing.&lt;/p&gt;
&lt;p&gt;I work in inches because that&amp;#8217;s how I started out and the important thing is just to be consistent with grid sizes and measurement system.&lt;/p&gt;
&lt;p&gt;My script looks like this:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;OVERALL&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;GRID IN 0.0125 DOTS ON ALT IN 0.025;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;BOARD&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;change drill 0.013      # drill/hold diameter&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;change diameter 0.027   # via pad diameter&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;change shape round      # via shape&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;change width 0.01       # route width&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;change size 0.50        # text size&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SCH&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;change width 0.006      # wire width&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;change size 0.50        # text size&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;No changes needed for library or device&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SYM&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;change length middle    # default pin length&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;change visible both     # pin and pad number&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;PAC&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;change shape round      # via shape&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;change diameter 0.027   # via pad diameter&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;change drill 0.013      # drill/hold diameter&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;change size 0.050&lt;/code&gt;&lt;/p&gt;</description>
				<pubDate>Fri, 03 Jan 2014</pubDate>
				<link>http://www.wickerbox.net//2014/01/03-note</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2014/01/03-note</guid>
			</item>
		
			<item>
				<title>Kalaloch Lodge</title>
				<description>&lt;p&gt;I drove up to Beach 4 and walked up to the tide pools.&lt;/p&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-toz8wCZHBto/UshTuiY-WqI/AAAAAAAAF0A/UwfmWDsFUb8/s600/IMG_0503.png&quot;&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-zrLOhNpqdYY/UshTvWFgzPI/AAAAAAAAF0g/MCgSsR0mXBE/s640/IMG_0518.png&quot;&gt;
&lt;img src=&quot;https://lh3.googleusercontent.com/-_-i_MoqK0bI/UshTvaOVWAI/AAAAAAAAF0Y/PObOfqTNJ40/s800/IMG_0511.png&quot;&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-0IKt0sJloCE/UshTwm77cBI/AAAAAAAAF0o/ngmEZpe60RY/s800/IMG_0538.png&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-DsOneoJnDVQ/UshTv3Pp70I/AAAAAAAAF0c/HskEOBRZN10/s800/IMG_0533.png&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-eVLmkPb-Cls/UshTxSrf5iI/AAAAAAAAF08/tYFSc5NlkfQ/s800/IMG_0541.png&quot;&gt;
&lt;img src=&quot;https://lh4.googleusercontent.com/-XfGj-X8KdaU/UshTxZfqQcI/AAAAAAAAF1A/zl8W9-v3LTE/s640/IMG_0542.png&quot;&gt;
&lt;img src=&quot;https://lh4.googleusercontent.com/-qgerbfMCJ0M/UshTxz-8I8I/AAAAAAAAF1E/ul6G5rCWwKA/s800/IMG_0547.png&quot;&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-B_RQw5GAb6Q/UshTyp9PD8I/AAAAAAAAF1Y/0MDjkwwKk6Q/s600/IMG_0581.png&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-o7xSKC72CYk/UshTyAMAfzI/AAAAAAAAF1U/p1kjgpJQaBs/s600/IMG_0574.png&quot;&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-WJsLV1opb4o/UshTzziijHI/AAAAAAAAF1o/e5mHpcJFntQ/s600/IMG_0591.png&quot;&gt;
&lt;img src=&quot;https://lh4.googleusercontent.com/-kE9_YbaJojk/UshTz8-069I/AAAAAAAAF1s/Wh7ZD_AT1_s/s600/IMG_0601.png&quot;&gt;
&lt;img src=&quot;https://lh4.googleusercontent.com/-qinyiCcw5Mg/UshT0re1NGI/AAAAAAAAF2I/bG0LtrG0woM/s600/IMG_0606.png&quot;&gt;
&lt;img src=&quot;https://lh3.googleusercontent.com/-SwfQTv6zJ-U/UshT08lvxJI/AAAAAAAAF2A/dNQnnSG2cEc/s600/IMG_0614.png&quot;&gt;
&lt;img src=&quot;https://lh3.googleusercontent.com/-FQlT3bLCTDk/UshT1dbpe-I/AAAAAAAAF2M/G5vUr6XocM0/s800/IMG_0615.png&quot;&gt;
&lt;p&gt;On the Oregon coast heading up.&lt;/p&gt;
&lt;img src=&quot;https://lh4.googleusercontent.com/--N3x2-1Is3s/UshTsoVNNQI/AAAAAAAAFzc/nIw9qeCToQs/s800/IMG_0460.png&quot;&gt;
&lt;img src=&quot;https://lh3.googleusercontent.com/-Nc1xkk5Xxc4/UshTtCduPDI/AAAAAAAAFzk/-BGpnh0dv-s/s800/IMG_0461.png&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-n4GRgEjRgAs/UshTtYVjjlI/AAAAAAAAFzo/0NKStYaJoVI/s800/IMG_0462.png&quot;&gt;
&lt;p&gt;One of the attractions in the rainforest north of Kalaloch Lodge is the Big Cedar.&lt;/p&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-3APUufL00Ng/UshTupLehCI/AAAAAAAAF0E/otvMb3rtgfQ/s640/IMG_0476.png&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-O1krN-ceOck/UshTulWmLZI/AAAAAAAAFz8/E_shO8Lv1bY/s640/IMG_0486.png&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-zONZfwCjRho/UshTt2MhcVI/AAAAAAAAFzs/nW5w-_8MUQs/s640/IMG_0474.png&quot;&gt;
&lt;p&gt;Kalaloch Lodge in the background. I stayed in a regular cabin.&lt;/p&gt;
&lt;img src=&quot;https://lh4.googleusercontent.com/-g0eb7P7SeqE/UshTrXrKhXI/AAAAAAAAFy8/ViZ8Ji1iQmI/s800/009.png&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-MDbuDkBip48/UshTrasT-iI/AAAAAAAAFzI/kbxzM2bZ9DE/s800/010.png&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-rQOrxEsJ0go/UshTr1pZtVI/AAAAAAAAFzA/JU4bXne0DhQ/s800/013.png&quot;&gt;
&lt;img src=&quot;https://lh4.googleusercontent.com/-HWYvYx9DGys/UshTsiNlsgI/AAAAAAAAFzQ/iaZq3iFVeXE/s800/016.png&quot;&gt;
&lt;p&gt;They were clean with two queen beds, a futon, kitchenette, bathroom with shower, small eating table, and a fireplace. Not sure what else I could ask for at $100/night.&lt;/p&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-thZp_yJBT2g/UshTqv-aGXI/AAAAAAAAFyk/RhewVrH3b_4/s600/005.png&quot;&gt;
&lt;img src=&quot;https://lh4.googleusercontent.com/-oxfR202O8j0/UshTqnqhlQI/AAAAAAAAFys/G9aT6eBH7SA/s600/006.png&quot;&gt;
&lt;img src=&quot;https://lh4.googleusercontent.com/-pa8TXEMyqFw/UshTqoHRvHI/AAAAAAAAFyo/UotfafQTTrg/s800/008.png&quot;&gt;</description>
				<pubDate>Wed, 01 Jan 2014</pubDate>
				<link>http://www.wickerbox.net//2014/01/kalaloch-lodge</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2014/01/kalaloch-lodge</guid>
			</item>
		
			<item>
				<title>29 Dec 2013</title>
				<description>&lt;p&gt;This makenote script is nifty.&lt;/p&gt;
&lt;p&gt;I finished the RF board layout this afternoon but need to review it tomorrow, particularly in the RF side around LNA2 and &lt;span class=&quot;caps&quot;&gt;ANTBIAS&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;I stayed in Ocean City last night and came home today through Astoria and Forest Grove and the valley, sneaking into Newberg the back way. Much better than I-5 and not all that much longer a drive.&lt;/p&gt;
&lt;p&gt;There&amp;#8217;s a This American Life story where one of the editors has her mom on the show to talk about her seven (or however many) things nobody wants to hear about in conversation when you show up for a dinner party. I&amp;#8217;m pretty sure the weather and the route are two of the however many.&lt;/p&gt;
&lt;p&gt;We had a nice sunset, anyway. And it&amp;#8217;s nice to be home. I&amp;#8217;m always kind of overwhelmed by how beautiful the forests and coast can be.&lt;/p&gt;
&lt;p&gt;I stacked the motor driver board and the XBee-bearing protoshield on top of my Arduino and was able to control the steering of the Foxcar by way of characters typed in minicom on my laptop through another XBee. I also investigated robot libraries and realized I should really be using &lt;span class=&quot;caps&quot;&gt;ROS&lt;/span&gt;, not ChibiOS, which is the Robot Operating System.&lt;/p&gt;
&lt;p&gt;I have an STM32F Discovery board so I&amp;#8217;m going to put &lt;span class=&quot;caps&quot;&gt;ROS&lt;/span&gt; on that next.&lt;/p&gt;</description>
				<pubDate>Sun, 29 Dec 2013</pubDate>
				<link>http://www.wickerbox.net//2013/12/29-note</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2013/12/29-note</guid>
			</item>
		
			<item>
				<title>27 Dec 2013</title>
				<description>&lt;p&gt;Spent a couple days in a cabin at Kalaloch Lodge on the Olympic Peninsula. I edited some posts and got everything ready for when I get home to just push the site.&lt;/p&gt;
&lt;p&gt;I have a couple interesting projects in the pipeline, including the RF board and an implementation of Timo Bergmann&amp;#8217;s Sound of Sorting. I never had the algorithms class at school so writing fifteen sorts with the help of the Intro to Algorithms, 3rd Ed, has introduced me to a bunch of concepts &amp;#8211; optimization among them.&lt;/p&gt;</description>
				<pubDate>Fri, 27 Dec 2013</pubDate>
				<link>http://www.wickerbox.net//2013/12/27-note</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2013/12/27-note</guid>
			</item>
		
			<item>
				<title>25 Dec 2013</title>
				<description>&lt;p&gt;This note is trying out my new script. It first gets the current date in the right format.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;NAME=$(date +&quot;%Y-%m-%d&quot;)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Then it copies a template I made in _layouts/ and names it using that date output.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cp $SRCDIR/_layouts/note_  .textile $SRCDIR/_posts/$NAME-note.textile&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Then it opens it for editing so I can do my thing.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;vim $SRCDIR/_posts/$NAME-note.textile&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;And here it is. Yay for lowering transaction costs.&lt;/p&gt;
&lt;p&gt;I also figured out a way to add image to posts but they only show up on the notebook page, not the &lt;span class=&quot;caps&quot;&gt;RSS&lt;/span&gt; feed, because they&amp;#8217;re slid in from the yaml header and sit above the title. They look nice so I&amp;#8217;m calling it good.&lt;/p&gt;</description>
				<pubDate>Wed, 25 Dec 2013</pubDate>
				<link>http://www.wickerbox.net//2013/12/25-note</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2013/12/25-note</guid>
			</item>
		
			<item>
				<title>Foxcar Control Board v1</title>
				<description>&lt;p&gt;It&amp;#8217;s time to add a control board to my RC car. My goal is a car that does basically everything by itself so I looked into robot exploration algorithms and figured out I need to have localization (where am I?), mapping (what&amp;#8217;s around me?), and planning (where am I going?). I broke up the design of the control board into four parts: power and motors, microcontroller, networking and logging, and all the sensor inputs.&lt;/p&gt;
&lt;p&gt;I scrounged up sensors in the Open Tech Lab, where I originally scrounged up the car, and came up with a couple of rangefinders, a PX4FLOW, a 9DOF sensor stick with accel/gyro/mag, and a &lt;span class=&quot;caps&quot;&gt;CMOS&lt;/span&gt; camera which has no markings except for its chip, a VC0706.&lt;/p&gt;
&lt;img src=&quot;/images/project/foxcar/sensors.png&quot;&gt;
&lt;p&gt;I knew I&amp;#8217;d want an output for the servo now but I also wanted to provide the same interface for &lt;span class=&quot;caps&quot;&gt;ESC&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;PWM&lt;/span&gt; signals as I had on my previous quadcopter control board. Ideally this board could go on a quad without any modifications. As for power, I already knew that the VNH5019 carrier board from Pololu works fine for my car so I designed the board for over 20A of stall current.&lt;/p&gt;
&lt;p&gt;I added a micro-&lt;span class=&quot;caps&quot;&gt;USB&lt;/span&gt; connector and hooked the 5V through a diode to the linear regulator so I can&amp;#8217;t power the car from &lt;span class=&quot;caps&quot;&gt;USB&lt;/span&gt; (it&amp;#8217;s not big enough to carry a laptop anyway) but I&amp;#8217;ll be able to debug directly.&lt;/p&gt;
&lt;p&gt;I decided I&amp;#8217;d also want logging via a microSD card and networked control over XBees I also have on hand. Overall, the system looks like this.&lt;/p&gt;
&lt;img src=&quot;/images/project/foxcar/v1-system.png&quot;&gt;

&lt;p&gt;I chose the STM32F4 because &lt;span class=&quot;caps&quot;&gt;PSAS&lt;/span&gt; is using it so one of my other boards is using it, I&amp;#8217;ve already got a dev environment for it, I&amp;#8217;d like to use ChibiOS, and it&amp;#8217;s basically capable of anything I would want for its size. It&amp;#8217;s also ubiquitous so there are tons of help forums and it&amp;#8217;s got all the pins, &lt;span class=&quot;caps&quot;&gt;DAC&lt;/span&gt;, and memory I could want.&lt;/p&gt;
&lt;p&gt;I got this far and was looking into which &lt;span class=&quot;caps&quot;&gt;IMU&lt;/span&gt; sensors to buy when I talked to a guy who does IMUs who flipped out when I suggested writing a Kalman filter. He stressed that I could do whatever the hell I wanted but he asked if what I really wanted was really to actually spend a year writing a decent &lt;span class=&quot;caps&quot;&gt;IMU&lt;/span&gt;, really? &lt;em&gt;really? think hard now&amp;#8230;&lt;/em&gt; and I agreed, okay, no, I want to make my car drive around and get into trouble.&lt;/p&gt;
&lt;p&gt;I also realized a basic requirement of this car is to use optical flow instead of &lt;span class=&quot;caps&quot;&gt;GPS&lt;/span&gt; for absolute position correction. This is the root problem I&amp;#8217;m interested in and I&amp;#8217;ve started to read up on possible solutions.&lt;/p&gt;
&lt;p&gt;I went looking at the other autopilot boards to find out which sensors they&amp;#8217;re using, then I looked up open source IMUs which already have ports to the STM32F4, and I decided to use FreeIMU with the MPU6000 and HMC5883L. Note that originally I figured I&amp;#8217;d use the MPU6050 and then realized that the 6000 comes with &lt;span class=&quot;caps&quot;&gt;SPI&lt;/span&gt; as well as I2C so the 6000 is the better deal for the faster speed.&lt;/p&gt;
&lt;img src=&quot;/images/project/foxcar/autopilots.png&quot;&gt;
&lt;p&gt;I went back to my pile of sensors, took the STM32F4, broke out all the peripherals I could use, and matched up sensors to the chip. I hooked up the compass and Invensense gyro/accelometer chip, then broke all the other &lt;span class=&quot;caps&quot;&gt;GPIO&lt;/span&gt; points left over into as many header as I could. Finally, I worked up a schematic using my proven previous design for the XBee, &lt;span class=&quot;caps&quot;&gt;USB&lt;/span&gt;, and SD card.&lt;/p&gt;
&lt;img src=&quot;/images/project/foxcar/foxcar-control-board-v1-sch-sheet1.png&quot;&gt;

&lt;img src=&quot;/images/project/foxcar/foxcar-control-board-v1-sch-sheet2.png&quot;&gt;

&lt;p&gt;I started the schematic on November 22nd and finished on December 15th, which was exactly on target. I worked in two crunch weeks, the first for the schematic and the second for layout, with a break between them to let the schematic linger a little.&lt;/p&gt;
&lt;img src=&quot;/images/project/foxcar/foxcar-control-board-v1-brd.png&quot;&gt;
&lt;p&gt;The &lt;a href=&quot;http://github.com/wicker/Self-Driving-RC-Car/&quot;&gt;final schematics and boards are up on Github&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The final 4-layer board comes out to 3.5&amp;#215;2.2 inches for an OSHPark cost of $77 for three.&lt;/p&gt;
&lt;img src=&quot;/images/project/foxcar/oshpark-ship.png&quot;&gt;</description>
				<pubDate>Sun, 15 Dec 2013</pubDate>
				<link>http://www.wickerbox.net//2013/12/custom-foxcar-control-board</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2013/12/custom-foxcar-control-board</guid>
			</item>
		
			<item>
				<title>Using ChibiOS and OpenOCD</title>
				<description>&lt;p&gt;I chose ChibiOS for the &lt;span class=&quot;caps&quot;&gt;GPS&lt;/span&gt; RF board because &lt;span class=&quot;caps&quot;&gt;PSAS&lt;/span&gt; has it set up. These are rough notes for myself for doing development on the &lt;span class=&quot;caps&quot;&gt;GPS&lt;/span&gt; RF board.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;http://psas.pdx.edu/avionics/av3_firmware/av3-stm32-openocd/&quot;&gt;stm32 section on the &lt;span class=&quot;caps&quot;&gt;PSAS&lt;/span&gt; wiki&lt;/a&gt; was useful.&lt;/p&gt;
&lt;p&gt;/opt/psas is where I&amp;#8217;ve put all the psas ChibiOS stuff on my machine.&lt;/p&gt;
&lt;p&gt;I put the following commands in ~/.bash_aliases:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;alias psas_stm=&quot;echo Path is $PATH &amp;amp;&amp;amp; export PATH=$PATH:/opt/psas/openocd/bin:/opt/psas/x-tools/stm32f407/arm-psas-eabi/bin:/opt/eclipse/ &amp;amp;&amp;amp; echo \nNew path is \$PATH&quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;alias gpsdev1=&quot;cd /opt/psas/openocd/bin &amp;amp;&amp;amp; ./openocd -f ../share/openocd/scripts/interface/stlink-v2.cfg -f ../share/openocd/scripts/target/stm32f4x_stlink.cfg&quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;alias gpsdev2=&quot;cd /opt/psas/openocd/bin &amp;amp;&amp;amp; telnet localhost 4444&quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;To program the board, first I make sure I&amp;#8217;ve updated the software in the main repo, which in &lt;span class=&quot;caps&quot;&gt;GPS&lt;/span&gt; case is &lt;a href=&quot;http://github.com/psas/stm32/src/gps/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Not sure where my code is actually compiled but I&amp;#8217;m going to use the ch.hex that&amp;#8217;s created when I do compile to program the board.&lt;/p&gt;
&lt;p&gt;Then I run psas_stm, which adds the paths I need.&lt;/p&gt;
&lt;p&gt;Then I open two terminals.&lt;/p&gt;
&lt;p&gt;In the first, I run gpsdev1 to run openocd on the config files.&lt;/p&gt;
&lt;p&gt;In the second, I run gpsdev2 to open communication with the board.&lt;/p&gt;
&lt;p&gt;The openocd commands to run inside the second terminal are&lt;/p&gt;
&lt;div style=&quot;margin-left: 20px;&quot;&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;c&quot;&gt;&lt;span class=&quot;n&quot;&gt;reset&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;halt&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;flash&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;write&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;write_image&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;erase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wicker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;proj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;psas&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stm32&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hex&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;reset&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Then the board should be programmed correctly.&lt;/p&gt;
&lt;p&gt;Huge thanks to Kay and Dave for helping me get started.&lt;/p&gt;</description>
				<pubDate>Wed, 11 Dec 2013</pubDate>
				<link>http://www.wickerbox.net//2013/12/getting-started-with-psas-chibios</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2013/12/getting-started-with-psas-chibios</guid>
			</item>
		
			<item>
				<title>Making Wickerbox - v2</title>
				<description>&lt;p&gt;Wickerbox is a dynamically-generated static site served using Jekyll and Github Pages. I recently redesigned it with an eye to a more simple back-end and a minimum of Javascript. I ended up directly linking from Google+ Photos for photo posts and from Github for project posts.&lt;/p&gt;
&lt;p&gt;Wickerbox is static in that it does not require a server-side database in order to serve up pages. I came from Wordpress using MySQL and &lt;span class=&quot;caps&quot;&gt;PHP&lt;/span&gt; and wanted something simpler. (ha!) Also, Iâ€™m a big fan of git for revision control.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;What&amp;#8217;s a Post?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A post is a post is a post. I originally split posts into different layouts with photo posts containing a gallery sourced from a Picasa photo album so I could just put the userid and albumid in the header and it would automatically populate. That ended up being really awkward to browse and I prefer just putting the photos in the document. It works for projects, too.&lt;/p&gt;
&lt;p&gt;I write the posts in Textile and save as .textile documents, which are then turned by Jekyll into &lt;span class=&quot;caps&quot;&gt;HTML&lt;/span&gt; pages. Jekyll takes any otherwise-unmarked piece of text and renders it with paragraph tags, which I gave some padding to get the indented effect.&lt;/p&gt;
&lt;img src=&quot;/images/project/wickerv2/indent-textile.png&quot;&gt;
&lt;p&gt;By starting the line with two spaces, I can avoid wrapping my images in paragraph tags and make sure they take up the entire width of the content box.&lt;/p&gt;
&lt;img src=&quot;/images/project/wickerv2/indent.png&quot;&gt;
&lt;p&gt;Posts do need to be sorted for display purposes in the category and front pages, so I&amp;#8217;m still using a lot of header:&lt;/p&gt;
&lt;div style=&quot;margin-left: 20px;&quot;&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;yaml&quot;&gt;&lt;span class=&quot;nn&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;l-Scalar-Plain&quot;&gt;layout&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;post&lt;/span&gt;
&lt;span class=&quot;l-Scalar-Plain&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;Making Wickerbox - v2&lt;/span&gt;
&lt;span class=&quot;l-Scalar-Plain&quot;&gt;category&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;software&lt;/span&gt;
&lt;span class=&quot;l-Scalar-Plain&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;/images/thumbs/wickerbox-v2.png&lt;/span&gt;
&lt;span class=&quot;l-Scalar-Plain&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;all&lt;/span&gt;
&lt;span class=&quot;p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;jekyll&lt;/span&gt;
&lt;span class=&quot;p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;sites&lt;/span&gt;
&lt;span class=&quot;p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;projects&lt;/span&gt;
&lt;span class=&quot;l-Scalar-Plain&quot;&gt;purpose&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;project&lt;/span&gt;
&lt;span class=&quot;l-Scalar-Plain&quot;&gt;year&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;2013&lt;/span&gt;
&lt;span class=&quot;l-Scalar-Plain&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;Combination of content and design changes.&lt;/span&gt;
&lt;span class=&quot;l-Scalar-Plain&quot;&gt;location&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;Portland, Oregon&lt;/span&gt;
&lt;span class=&quot;nn&quot;&gt;---&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Implementation&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I wrote the layout file to be as simple as possible. I&amp;#8217;m stopped using an out-of-the-box responsive framework and intend to just put in some mobile tweaks some time in the future. I&amp;#8217;m not too worried about making the site look fantastic on mobile because the photos are integral and they&amp;#8217;re huge, so I&amp;#8217;m not really sure who&amp;#8217;s spending a lot of time on mobile browsing.&lt;/p&gt;
&lt;p&gt;I stopped using the Galleria plugin for photos but I did switch fonts to use Google.&lt;/p&gt;
&lt;p&gt;My intent was to make posts as simple and standard as possible while putting the complicated sorting and display details on the front page and on the category pages. The goal was to lower the transaction cost of writing a post as much as possible.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;To Tag or Not To Tag&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m still adding tags to posts but I&amp;#8217;m not displaying them because there isn&amp;#8217;t a nice design-friendly place to put them. I used to love tag clouds; now I&amp;#8217;m sort of ambivalent.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Notebook&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The biggest thing I wanted was to make a blog-like page which would display all the posts under the &amp;#8216;notes&amp;#8217; category. It would be fine to drop photos here but the goal was to lower the transaction cost &lt;em&gt;even lower&lt;/em&gt; so I&amp;#8217;d err on the side of a quick post instead of letting all these ideas pile up until I burn the whole pile and vow to start over, which is basically what happened in 2013.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span class=&quot;caps&quot;&gt;RSS&lt;/span&gt; Feed&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m using the basic template from &lt;a href=&quot;http://github.com/snaptortoise/jekyll-rss-feeds&quot;&gt;snaptortoise&amp;#8217;s Jekyll &lt;span class=&quot;caps&quot;&gt;RSS&lt;/span&gt; Feeds repo&lt;/a&gt; and it works fine.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Source&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Github serves wickerbox.net from &lt;a href=&quot;http://github.com/wicker/wicker.github.com/&quot;&gt;the wicker.github.com repo&lt;/a&gt; but I still keep the back-end of the site under version control by using &lt;a href=&quot;http://github.com/wicker/wickerbox-jekyll-backend&quot;&gt;wickerbox-jekyll-backend&lt;/a&gt; and I serve the site using a script from my command line.&lt;/p&gt;
&lt;p&gt;I serve the site using a script which I wrote about &lt;a href=&quot;http://localhost:4000/2012/03/wickerbox-net-with-jekyll/&quot;&gt;in my original Making Wickerbox v1 post&lt;/a&gt; and which is basically unchanged.&lt;/p&gt;</description>
				<pubDate>Tue, 10 Dec 2013</pubDate>
				<link>http://www.wickerbox.net//2013/12/wickerbox-with-jekyll-v2</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2013/12/wickerbox-with-jekyll-v2</guid>
			</item>
		
	</channel>
</rss>
